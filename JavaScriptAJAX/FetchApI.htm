<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Products Table</title>

<link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css">
<link rel="stylesheet" href="../node_modules/bootstrap-icons/font/bootstrap-icons.css">

<script>
function bodyload() {

    fetch("./db.json")
        .then(response => response.json())
        .then(products => {

            const tbody = document.querySelector("tbody");
            tbody.innerHTML = "";

            products.forEach(product => {

                const tr = document.createElement("tr");
                tr.className = "align-middle text-center";

                const tdName = document.createElement("td");
                tdName.className = "text-start fw-semibold";
                tdName.textContent = product.Name;

                const tdPrice = document.createElement("td");
                tdPrice.className = "fw-bold";
                tdPrice.textContent = product.price.toLocaleString("en-IN", {
                    style: "currency",
                    currency: "INR",
                    minimumFractionDigits: 0
                });

                const tdAction = document.createElement("td");
                tdAction.innerHTML = `
                    <button class="btn btn-warning btn-sm bi bi-pen-fill me-2"></button>
                    <button class="btn btn-danger btn-sm bi bi-trash-fill"></button>
                `;

                tr.append(tdName, tdPrice, tdAction);
                tbody.appendChild(tr);
            });
        })
        .catch(err => console.error("Fetch failed:", err));
}
</script>
</head>

<body class="container-fluid py-4" onload="bodyload()">

<h2 class="text-center fs-4 text-secondary mb-4">Products Table</h2>

<table class="table table-hover table-bordered shadow-sm">
    <thead class="table-light">
        <tr class="text-center">
            <th>Name</th>
            <th>Price</th>
            <th style="width:140px">Actions</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

</body>
</html>
