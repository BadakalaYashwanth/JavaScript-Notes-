<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../node_modules/bootstrap-icons/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css">

    <script>
        function bodyload(){
            var product = {};
            var http = new XMLHttpRequest();

            http.open("GET", "./product.json", true);
            http.send();

            http.onreadystatechange = function(){

                 if(http.readyState===4){

                     product = JSON.parse(http.responseText);
                     document.getElementById("imgProduct").src = product.image;
                     document.getElementById("lblTitle").innerHTML = product.title;
                     document.getElementById("rating").innerHTML = `<span class="badge bg-success fs-6 p-2 rounded text-white">${product.rating.rate} <span class="bi bi-star-fill"></span. </span>`;
                     product.offers.map(function(offer){

                         var li = document.createElement("li");
                         li.className = "bi my-4 bi-tag-fill text-success";
                         li.innerHTML = `<span class="text-secondary">${offer}</span>`;
                         document.getElementById("offers").appendChild(li);
                     })
                     document.getElementById("lblPrice").innerHTML = product.price.toLocaleString('en-in', {style:'currency', currency:'INR', minimumFractionDigits:0});
                 }
            }
        }

    </script>
</head>
<body class="container-fluid" onload="bodyload()">

    <div class="mt-4 row">
        <div class="col-3">
            <img id="imgProduct" width="100%">
        </div>
        <div class="col-9">
            <div class="fs-4" id="lblTitle"></div>
            <div class="mt-2">
                <span class="badge bg-success p-2 text-white" id="rating"></span>
                <span class="mx-2 fs-5 text-secondary fw-bold" id="reviews"></span>
            </div>
            <div class="mt-5 fs-1 fw-bold" id="lblPrice">
            </div>
            <div class="mt-4">
                <ul id="offers" class="list-unstyled">
                </ul>
            </div>
        </div>
    </div>
</body>
</html>